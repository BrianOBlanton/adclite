function cmap=noaa_cmap(n)

if ~exist('n','var')
   cmap=cmapvals;
   return
end


temp=flipud(cmapvals);
t=linspace(0,1,size(temp,1));
tn=(0:n-1)/(n-1);

cmap(:,1)=interp1(t,temp(:,1),tn);
cmap(:,2)=interp1(t,temp(:,2),tn);
cmap(:,3)=interp1(t,temp(:,3),tn);

function cmapvals=cmapvals

cmapvals=[
   254   0   224
   254   0   219
   254   0   214
   254   0   209
   254   0   205
   254   0   199
   254   0   194
   254   0   190
   254   0   185
   254   0   180
   254   0   174
   254   0   170
   254   0   165
   254   0   160
   254   0   155
   254   0   150
   254   0   145
   254   0   138
   254   0   128
   254   0   119
   254   0   112
   254   0   103
   254   0   90
   254   0   80
   254   0   74
   254   0   68
   254   0   62
   254   0   56
   254   0   51
   254   0   44
   254   0   34
   254   0   27
   254   0   27
   254   0   25
   254   0   19
   254   0   15
   254   0   10
   254   0   6
   254   0   2
   254   0   0
   254   5   0
   254   10   0
   254   14   0
   254   20   0
   254   26   0
   254   31   0
   254   37   0
   254   43   0
   254   49   0
   254   55   0
   254   62   0
   254   69   0
   254   83   0
   254   95   0
   254   103   0
   254   111   0
   254   118   0
   254   126   0
   254   132   0
   254   139   0
   254   151   0
   254   163   0
   254   169   0
   254   173   0
   254   178   0
   254   183   0
   254   188   0
   254   193   0
   254   198   0
   254   203   0
   254   208   0
   254   213   0
   254   218   0
   254   222   0
   254   226   0
   254   230   0
   254   234   0
   254   237   0
   254   240   0
   254   243   0
   254   245   0
   254   247   0
   251   250   0
   249   253   0
   246   254   0
   243   254   0
   241   254   0
   237   254   0
   234   254   0
   231   254   0
   227   254   0
   223   254   0
   219   254   0
   214   254   0
   209   254   0
   205   254   0
   199   254   0
   194   254   0
   190   254   0
   184   254   0
   179   254   0
   174   254   0
   170   254   0
   165   254   0
   155   254   0
   142   254   0
   134   254   0
   127   254   0
   120   254   0
   112   254   0
   101   254   0
   87   254   0
   77   254   0
   70   254   0
   63   254   0
   56   254   0
   50   254   0
   45   254   0
   39   254   0
   33   254   0
   27   254   0
   21   254   0
   16   254   0
   11   254   0
   6   254   0
   1   254   0
   0   254   1
   0   254   6
   0   254   11
   0   254   17
   0   254   22
   0   254   27
   0   254   33
   0   254   38
   0   254   45
   0   254   51
   0   254   57
   0   254   63
   0   254   69
   0   254   76
   0   254   86
   0   254   101
   0   254   113
   0   254   121
   0   254   128
   0   254   134
   0   254   142
   0   254   154
   0   254   164
   0   254   170
   0   254   175
   0   254   179
   0   254   184
   0   254   190
   0   254   194
   0   254   199
   0   254   204
   0   254   210
   0   254   214
   0   254   219
   0   254   223
   0   254   227
   0   254   230
   0   254   234
   0   254   238
   0   254   240
   0   254   244
   0   254   246
   0   253   248
   0   250   251
   0   248   253
   0   245   254
   0   243   254
   0   240   254
   0   237   254
   0   233   254
   0   230   254
   0   226   254
   0   221   254
   0   217   254
   0   213   254
   0   208   254
   0   204   254
   0   196   254
   0   189   254
   0   186   254
   0   183   254
   0   178   254
   0   173   254
   0   168   254
   0   164   254
   0   152   254
   0   139   254
   0   132   254
   0   125   254
   0   118   254
   0   111   254
   0   103   254
   0   96   254
   0   82   254
   0   69   254
   0   61   254
   0   54   254
   0   49   254
   0   43   254
   0   37   254
   0   31   254
   0   26   254
   0   20   254
   0   15   254
   0   9   254
   0   5   254
   0   0   254
   0   0   251
   0   0   249
   0   0   246
   0   0   242
   0   0   240
   0   0   237
   0   0   234
   0   0   231
   0   0   228
   0   0   225
   0   0   221
   0   0   218
   0   0   215
   0   0   211
   0   0   207
   0   0   204
   0   0   198
   0   0   190
   0   0   185
   0   0   180
   0   0   175
   0   0   170
   0   0   165
   0   0   160
   0   0   155
   0   0   150
   0   0   145
   0   0   140
   0   0   134
   0   0   129
   0   0   123
   0   0   117
   0   0   112
   0   0   107
   0   0   101
   0   0   96
   0   0   91
   0   0   86
   0   0   80
   0   0   76
   0   0   71
   0   0   66
   0   0   62]/256;

